{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/kiwonkim/Downloads/react-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _objectSpread from \"/Users/kiwonkim/Downloads/react-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _regeneratorRuntime from \"/Users/kiwonkim/Downloads/react-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kiwonkim/Downloads/react-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/kiwonkim/Downloads/react-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/kiwonkim/Downloads/react-portfolio/src/components/MyPortfolio.js\";\n\nfunction _templateObject10() {\n  var data = _taggedTemplateLiteral([\"\\n    text-align: center;\\n\"]);\n\n  _templateObject10 = function _templateObject10() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject9() {\n  var data = _taggedTemplateLiteral([\"\\n    width: 200px;\\n\"]);\n\n  _templateObject9 = function _templateObject9() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n    display: inline-block;\\n    border: transparent;\\n    box-shadow: 2px 2px 10px 0.2px;\\n    border-radius: 8px;\\n    padding: 8px;\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n    width: 1px;\\n    height: 1px;\\n    padding: 0;\\n    margin: -1px;\\n    overflow: hidden;\\n    clip: rect(0, 0, 0, 0);\\n    border: 0;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n    width: 200px;\\n    border: transparent;\\n    box-shadow: 2px 2px 10px 0.2px;\\n    border-radius: 8px;\\n    height: 40px;\\n    width: 30vw;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    border: transparent;\\n    padding: 10px;\\n    margin: 10px 0;\\n    border-radius: 8px;\\n    box-shadow: 2px 2px 10px 0.2px;\\n    border-radius: 8px;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n    display: flex;\\n    border: transparent;\\n    flex-direction: column;\\n    justify-content: center;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    height: 30px;\\n    width: 50vw;\\n    color: green;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: center;\\n    border: transparent;\\n    box-shadow: 2px 2px 10px 0.2px;\\n    border-radius: 8px;\\n    padding: 8px;\\n    height: auto;\\n    width: auto;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    display: grid;\\n    grid-template-columns: 1fr;\\n    justify-items: center;\\n    padding: 8px;\\n    gap: 10px;\\n    @media (min-width: 900px) {\\n        grid-template-columns: 1fr 1fr;\\n    }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from 'react';\nimport moment from 'moment';\nimport styled from 'styled-components';\nimport { firebase, storage } from '../firebase';\nimport YouTube from 'react-youtube';\nimport ReactCrop from 'react-image-crop';\nimport 'react-image-crop/dist/ReactCrop.css';\nexport default function MyPortfolio() {\n  var _this = this;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      title = _useState2[0],\n      setTitle = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      writer = _useState4[0],\n      setWriter = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      description = _useState6[0],\n      setDescription = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      videoId = _useState8[0],\n      setVideoId = _useState8[1];\n\n  var allInputs = {\n    imgUrl: ''\n  };\n\n  var _useState9 = useState(0),\n      _useState10 = _slicedToArray(_useState9, 2),\n      progress = _useState10[0],\n      setProgress = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      image = _useState12[0],\n      setImage = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      imageAsFile = _useState14[0],\n      setImageAsFile = _useState14[1];\n\n  var _useState15 = useState(allInputs),\n      _useState16 = _slicedToArray(_useState15, 2),\n      imageAsUrl = _useState16[0],\n      setImageAsUrl = _useState16[1];\n\n  var _useState17 = useState([]),\n      _useState18 = _slicedToArray(_useState17, 2),\n      rendering = _useState18[0],\n      setRendering = _useState18[1];\n\n  var _useState19 = useState('%'),\n      _useState20 = _slicedToArray(_useState19, 2),\n      unit = _useState20[0],\n      setUnit = _useState20[1];\n\n  var _useState21 = useState(30),\n      _useState22 = _slicedToArray(_useState21, 2),\n      width = _useState22[0],\n      setWidth = _useState22[1];\n\n  var _useState23 = useState(16 / 9),\n      _useState24 = _slicedToArray(_useState23, 2),\n      aspect = _useState24[0],\n      setAspect = _useState24[1];\n\n  var onSelectFile = function onSelectFile(e) {\n    if (e.target.file && e.target.files.length > 0) {\n      var reader = new FileReader();\n      reader.addEventListener('load', function () {\n        _this.setState({\n          src: reader.result\n        });\n      });\n      reader.readAsDataURL(e.target.files[0]);\n    }\n  }; // If you setState the crop in here you should return false.\n\n\n  var onImageLoaded = function onImageLoaded(image) {\n    _this.imageRef = image;\n  };\n\n  var onCropComplete = function onCropComplete(crop) {\n    _this.makeClientCrop(crop);\n  };\n\n  var onCropChange = function onCropChange(crop, percentCrop) {\n    // You could also use percentCrop:\n    // this.setState({ crop: percentCrop });\n    _this.setState({\n      crop\n    });\n  };\n\n  var makeClientCrop = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(crop) {\n      var croppedImageUrl;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(_this.imageRef && crop.width && crop.height)) {\n                _context.next = 5;\n                break;\n              }\n\n              _context.next = 3;\n              return _this.getCroppedImg(_this.imageRef, crop, 'newFile.jpeg');\n\n            case 3:\n              croppedImageUrl = _context.sent;\n\n              _this.setState({\n                croppedImageUrl\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function makeClientCrop(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var getCroppedImg = function getCroppedImg(image, crop, fileName) {\n    var canvas = document.createElement('canvas');\n    var scaleX = image.naturalWidth / image.width;\n    var scaleY = image.naturalHeight / image.height;\n    canvas.width = crop.width;\n    canvas.height = crop.height;\n    var ctx = canvas.getContext('2d');\n    ctx.drawImage(image, crop.x * scaleX, crop.y * scaleY, crop.width * scaleX, crop.height * scaleY, 0, 0, crop.width, crop.height);\n    return new Promise(function (resolve, reject) {\n      canvas.toBlob(function (blob) {\n        if (!blob) {\n          //reject(new Error('Canvas is empty'));\n          console.error('Canvas is empty');\n          return;\n        }\n\n        blob.name = fileName;\n        window.URL.revokeObjectURL(_this.fileUrl);\n        _this.fileUrl = window.URL.createObjectURL(blob);\n        resolve(_this.fileUrl);\n      }, 'image/jpeg');\n    });\n  };\n\n  useEffect(function () {\n    console.log(image);\n    var unsubscribe = firebase.firestore().collection('tasks').orderBy('moment', 'desc').onSnapshot(function (snapshot) {\n      var newRendering = snapshot.docs.map(function (doc) {\n        return _objectSpread({\n          id: doc.id\n        }, doc.data());\n      });\n      console.log(newRendering);\n      setRendering(newRendering);\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, []);\n\n  var handleFireBaseUpload = function handleFireBaseUpload(e) {\n    e.preventDefault();\n    console.log('start of upload');\n\n    if (imageAsFile === '') {\n      console.log(\"not an image, the image file is \".concat(typeof imageAsFile));\n    }\n\n    var uploadTask = storage.ref(\"images/\".concat(imageAsFile.name)).put(imageAsFile);\n    uploadTask.on('state_changed', function (snapshot) {\n      var progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n      console.log('Upload is ' + progress + '% done');\n      setProgress(progress);\n\n      switch (snapshot.state) {\n        case firebase.storage.TaskState.PAUSED:\n          console.log('Upload is paused');\n          break;\n\n        case firebase.storage.TaskState.RUNNING:\n          console.log('Upload is running');\n          break;\n      }\n    }, function (err) {\n      console.log(err);\n    }, function () {\n      storage.ref('images').child(imageAsFile.name).getDownloadURL().then(function (fireBaseUrl) {\n        firebase.firestore().collection('tasks').add({\n          title,\n          writer,\n          description,\n          videoId,\n          moment: moment().format('YYYY-MM-DD_h:mm:ss'),\n          image: fireBaseUrl\n        });\n        setImageAsUrl(function (prevObject) {\n          return _objectSpread(_objectSpread({}, prevObject), {}, {\n            imgUrl: fireBaseUrl\n          });\n        });\n        console.log(fireBaseUrl);\n      });\n    });\n    setTitle('');\n    setWriter('');\n    setDescription('');\n  };\n\n  var handleImageAsFile = function handleImageAsFile(e) {\n    var image = e.target.files[0];\n    setImageAsFile(image);\n  };\n\n  var addTask = function addTask() {// if (\n    //     portfolioInfo.title ||\n    //     portfolioInfo.writer ||\n    //     portfolioInfo.description !== ''\n    // ) {\n  };\n\n  var handleDelete = function handleDelete(id) {\n    firebase.firestore().collection('tasks').doc(id).delete();\n  };\n\n  var opts = {\n    width: '700',\n    height: '450',\n    playerVars: {\n      // https://developers.google.com/youtube/player_parameters\n      autoplay: 0\n    }\n  };\n\n  var _onReady = function _onReady(event) {\n    // access to player in all event handlers via event.target\n    event.target.pauseVideo();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }, \"SHOW ME WHAT YOU GOT!!\"), /*#__PURE__*/React.createElement(StyledProgress, {\n    value: progress,\n    max: \"100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(StyledGrid1, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }\n  }, rendering.map(function (r, i) {\n    return /*#__PURE__*/React.createElement(StyledDiv2, {\n      key: r.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(StyledDiv2, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 33\n      }\n    }, r.writer), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 33\n      }\n    }, r.moment)), /*#__PURE__*/React.createElement(StyledDiv2, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 33\n      }\n    }, r.title), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 33\n      }\n    }, r.description), /*#__PURE__*/React.createElement(YouTube, {\n      videoId: r.videoId,\n      opts: opts,\n      onReady: _onReady,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(StyledImg, {\n      width: \"700\",\n      height: \"450\",\n      src: r.image,\n      alt: \"image tag\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 37\n      }\n    }))), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        return handleDelete(r.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 29\n      }\n    }, \"Delete\"));\n  })), /*#__PURE__*/React.createElement(StyledSummaryBorder, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleFireBaseUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 21\n    }\n  }, \"Add Portfolio\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 21\n    }\n  }, \"* \\uC81C\\uBAA9 *\"), /*#__PURE__*/React.createElement(StyledInput, {\n    onChange: function onChange(e) {\n      return setTitle(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 21\n    }\n  }, \"* \\uCC38\\uC5EC\\uC790 *\"), /*#__PURE__*/React.createElement(StyledInput, {\n    onChange: function onChange(e) {\n      return setWriter(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 21\n    }\n  }, \"* \\uAC04\\uB2E8\\uC124\\uBA85 *\"), /*#__PURE__*/React.createElement(StyledInput, {\n    onChange: function onChange(e) {\n      return setDescription(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 21\n    }\n  }, \"\\uC720\\uD29C\\uBE0C \\uC778\\uD48B\"), /*#__PURE__*/React.createElement(StyledInput, {\n    onChange: function onChange(e) {\n      return setVideoId(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 21\n    }\n  }, \"\\uCCA8\\uBD80\\uD30C\\uC77C\"), /*#__PURE__*/React.createElement(StyledFileLabel, {\n    for: \"upload_file\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 21\n    }\n  }, \"\\uD30C\\uC77C \\uC5C5\\uB85C\\uB4DC\"), /*#__PURE__*/React.createElement(StyledFile, {\n    type: \"file\",\n    id: \"upload_file\",\n    onChange: handleImageAsFile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(StyledButton, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 21\n    }\n  }, \"\\uC81C\\uCD9C\"))));\n}\nvar StyledGrid1 = styled.div(_templateObject());\nvar StyledDiv1 = styled.div(_templateObject2());\nvar StyledProgress = styled.progress(_templateObject3());\nvar StyledDiv2 = styled.div(_templateObject4());\nvar StyledSummaryBorder = styled.div(_templateObject5());\nvar StyledInput = styled.input(_templateObject6());\nvar StyledFile = styled.input(_templateObject7());\nvar StyledFileLabel = styled.label(_templateObject8());\nvar StyledButton = styled.button(_templateObject9());\nvar StyledImg = styled.img(_templateObject10());","map":{"version":3,"sources":["/Users/kiwonkim/Downloads/react-portfolio/src/components/MyPortfolio.js"],"names":["React","useState","useEffect","moment","styled","firebase","storage","YouTube","ReactCrop","MyPortfolio","title","setTitle","writer","setWriter","description","setDescription","videoId","setVideoId","allInputs","imgUrl","progress","setProgress","image","setImage","imageAsFile","setImageAsFile","imageAsUrl","setImageAsUrl","rendering","setRendering","unit","setUnit","width","setWidth","aspect","setAspect","onSelectFile","e","target","file","files","length","reader","FileReader","addEventListener","setState","src","result","readAsDataURL","onImageLoaded","imageRef","onCropComplete","crop","makeClientCrop","onCropChange","percentCrop","height","getCroppedImg","croppedImageUrl","fileName","canvas","document","createElement","scaleX","naturalWidth","scaleY","naturalHeight","ctx","getContext","drawImage","x","y","Promise","resolve","reject","toBlob","blob","console","error","name","window","URL","revokeObjectURL","fileUrl","createObjectURL","log","unsubscribe","firestore","collection","orderBy","onSnapshot","snapshot","newRendering","docs","map","doc","id","data","handleFireBaseUpload","preventDefault","uploadTask","ref","put","on","bytesTransferred","totalBytes","state","TaskState","PAUSED","RUNNING","err","child","getDownloadURL","then","fireBaseUrl","add","format","prevObject","handleImageAsFile","addTask","handleDelete","delete","opts","playerVars","autoplay","_onReady","event","pauseVideo","r","i","value","StyledGrid1","div","StyledDiv1","StyledProgress","StyledDiv2","StyledSummaryBorder","StyledInput","input","StyledFile","StyledFileLabel","label","StyledButton","button","StyledImg","img"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport moment from 'moment';\nimport styled from 'styled-components';\nimport { firebase, storage } from '../firebase';\nimport YouTube from 'react-youtube';\nimport ReactCrop from 'react-image-crop';\nimport 'react-image-crop/dist/ReactCrop.css';\n\nexport default function MyPortfolio() {\n    const [title, setTitle] = useState('');\n    const [writer, setWriter] = useState('');\n    const [description, setDescription] = useState('');\n    const [videoId, setVideoId] = useState('');\n\n    const allInputs = { imgUrl: '' };\n    const [progress, setProgress] = useState(0);\n    const [image, setImage] = useState('');\n    const [imageAsFile, setImageAsFile] = useState('');\n    const [imageAsUrl, setImageAsUrl] = useState(allInputs);\n    const [rendering, setRendering] = useState([]);\n\n    const [unit, setUnit] = useState('%');\n    const [width, setWidth] = useState(30);\n    const [aspect, setAspect] = useState(16 / 9);\n\n    const onSelectFile = (e) => {\n        if (e.target.file && e.target.files.length > 0) {\n            const reader = new FileReader();\n            reader.addEventListener('load', () => {\n                this.setState({ src: reader.result });\n            });\n            reader.readAsDataURL(e.target.files[0]);\n        }\n    };\n\n    // If you setState the crop in here you should return false.\n    const onImageLoaded = (image) => {\n        this.imageRef = image;\n    };\n\n    const onCropComplete = (crop) => {\n        this.makeClientCrop(crop);\n    };\n\n    const onCropChange = (crop, percentCrop) => {\n        // You could also use percentCrop:\n        // this.setState({ crop: percentCrop });\n        this.setState({ crop });\n    };\n\n    const makeClientCrop = async (crop) => {\n        if (this.imageRef && crop.width && crop.height) {\n            const croppedImageUrl = await this.getCroppedImg(\n                this.imageRef,\n                crop,\n                'newFile.jpeg'\n            );\n            this.setState({ croppedImageUrl });\n        }\n    };\n\n    const getCroppedImg = (image, crop, fileName) => {\n        const canvas = document.createElement('canvas');\n        const scaleX = image.naturalWidth / image.width;\n        const scaleY = image.naturalHeight / image.height;\n        canvas.width = crop.width;\n        canvas.height = crop.height;\n        const ctx = canvas.getContext('2d');\n\n        ctx.drawImage(\n            image,\n            crop.x * scaleX,\n            crop.y * scaleY,\n            crop.width * scaleX,\n            crop.height * scaleY,\n            0,\n            0,\n            crop.width,\n            crop.height\n        );\n\n        return new Promise((resolve, reject) => {\n            canvas.toBlob((blob) => {\n                if (!blob) {\n                    //reject(new Error('Canvas is empty'));\n                    console.error('Canvas is empty');\n                    return;\n                }\n                blob.name = fileName;\n                window.URL.revokeObjectURL(this.fileUrl);\n                this.fileUrl = window.URL.createObjectURL(blob);\n                resolve(this.fileUrl);\n            }, 'image/jpeg');\n        });\n    };\n\n    useEffect(() => {\n        console.log(image);\n        const unsubscribe = firebase\n            .firestore()\n            .collection('tasks')\n            .orderBy('moment', 'desc')\n            .onSnapshot((snapshot) => {\n                const newRendering = snapshot.docs.map((doc) => {\n                    return {\n                        id: doc.id,\n                        ...doc.data(),\n                    };\n                });\n                console.log(newRendering);\n                setRendering(newRendering);\n            });\n\n        return () => unsubscribe();\n    }, []);\n\n    const handleFireBaseUpload = (e) => {\n        e.preventDefault();\n        console.log('start of upload');\n        if (imageAsFile === '') {\n            console.log(\n                `not an image, the image file is ${typeof imageAsFile}`\n            );\n        }\n        const uploadTask = storage\n            .ref(`images/${imageAsFile.name}`)\n            .put(imageAsFile);\n\n        uploadTask.on(\n            'state_changed',\n            (snapshot) => {\n                let progress =\n                    (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n                console.log('Upload is ' + progress + '% done');\n                setProgress(progress);\n                switch (snapshot.state) {\n                    case firebase.storage.TaskState.PAUSED:\n                        console.log('Upload is paused');\n                        break;\n                    case firebase.storage.TaskState.RUNNING:\n                        console.log('Upload is running');\n                        break;\n                }\n            },\n            (err) => {\n                console.log(err);\n            },\n            () => {\n                storage\n                    .ref('images')\n                    .child(imageAsFile.name)\n                    .getDownloadURL()\n                    .then((fireBaseUrl) => {\n                        firebase\n                            .firestore()\n                            .collection('tasks')\n                            .add({\n                                title,\n                                writer,\n                                description,\n                                videoId,\n                                moment: moment().format('YYYY-MM-DD_h:mm:ss'),\n                                image: fireBaseUrl,\n                            });\n                        setImageAsUrl((prevObject) => ({\n                            ...prevObject,\n                            imgUrl: fireBaseUrl,\n                        }));\n                        console.log(fireBaseUrl);\n                    });\n            }\n        );\n        setTitle('');\n        setWriter('');\n        setDescription('');\n    };\n\n    const handleImageAsFile = (e) => {\n        const image = e.target.files[0];\n        setImageAsFile(image);\n    };\n\n    const addTask = () => {\n        // if (\n        //     portfolioInfo.title ||\n        //     portfolioInfo.writer ||\n        //     portfolioInfo.description !== ''\n        // ) {\n    };\n\n    const handleDelete = (id) => {\n        firebase.firestore().collection('tasks').doc(id).delete();\n    };\n\n    const opts = {\n        width: '700',\n        height: '450',\n        playerVars: {\n            // https://developers.google.com/youtube/player_parameters\n            autoplay: 0,\n        },\n    };\n\n    const _onReady = (event) => {\n        // access to player in all event handlers via event.target\n        event.target.pauseVideo();\n    };\n\n    return (\n        <div>\n            <h1>SHOW ME WHAT YOU GOT!!</h1>\n            <StyledProgress value={progress} max='100' />\n            <StyledGrid1>\n                {rendering.map((r, i) => {\n                    return (\n                        <StyledDiv2 key={r.id}>\n                            <StyledDiv2>\n                                <h3>{r.writer}</h3>\n                                <h6>{r.moment}</h6>\n                            </StyledDiv2>\n                            <StyledDiv2>\n                                <h3>{r.title}</h3>\n                                <h3>{r.description}</h3>\n                                <YouTube\n                                    videoId={r.videoId}\n                                    opts={opts}\n                                    onReady={_onReady}\n                                />\n                                <div>\n                                    <StyledImg\n                                        width='700'\n                                        height='450'\n                                        src={r.image}\n                                        alt='image tag'\n                                    />\n                                </div>\n                            </StyledDiv2>\n                            <button onClick={() => handleDelete(r.id)}>\n                                Delete\n                            </button>\n                        </StyledDiv2>\n                    );\n                })}\n            </StyledGrid1>\n            <StyledSummaryBorder>\n                <form onSubmit={handleFireBaseUpload}>\n                    <h1>Add Portfolio</h1>\n                    <h3>* 제목 *</h3>\n                    <StyledInput onChange={(e) => setTitle(e.target.value)} />\n                    <h3>* 참여자 *</h3>\n                    <StyledInput onChange={(e) => setWriter(e.target.value)} />\n                    <h3>* 간단설명 *</h3>\n                    <StyledInput\n                        onChange={(e) => setDescription(e.target.value)}\n                    />\n                    <h3>유튜브 인풋</h3>\n                    <StyledInput onChange={(e) => setVideoId(e.target.value)} />\n                    <h3>첨부파일</h3>\n                    <StyledFileLabel for='upload_file'>\n                        파일 업로드\n                    </StyledFileLabel>\n                    <StyledFile\n                        type='file'\n                        id='upload_file'\n                        onChange={handleImageAsFile}\n                    />\n                    <br />\n                    <br />\n                    <StyledButton type='submit'>제출</StyledButton>\n                </form>\n            </StyledSummaryBorder>\n        </div>\n    );\n}\n\nconst StyledGrid1 = styled.div`\n    display: grid;\n    grid-template-columns: 1fr;\n    justify-items: center;\n    padding: 8px;\n    gap: 10px;\n    @media (min-width: 900px) {\n        grid-template-columns: 1fr 1fr;\n    }\n`;\n\nconst StyledDiv1 = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    border: transparent;\n    box-shadow: 2px 2px 10px 0.2px;\n    border-radius: 8px;\n    padding: 8px;\n    height: auto;\n    width: auto;\n`;\n\nconst StyledProgress = styled.progress`\n    height: 30px;\n    width: 50vw;\n    color: green;\n`;\n\nconst StyledDiv2 = styled.div`\n    display: flex;\n    border: transparent;\n    flex-direction: column;\n    justify-content: center;\n`;\n\nconst StyledSummaryBorder = styled.div`\n    display: flex;\n    flex-direction: column;\n    border: transparent;\n    padding: 10px;\n    margin: 10px 0;\n    border-radius: 8px;\n    box-shadow: 2px 2px 10px 0.2px;\n    border-radius: 8px;\n`;\n\nconst StyledInput = styled.input`\n    width: 200px;\n    border: transparent;\n    box-shadow: 2px 2px 10px 0.2px;\n    border-radius: 8px;\n    height: 40px;\n    width: 30vw;\n`;\n\nconst StyledFile = styled.input`\n    width: 1px;\n    height: 1px;\n    padding: 0;\n    margin: -1px;\n    overflow: hidden;\n    clip: rect(0, 0, 0, 0);\n    border: 0;\n`;\n\nconst StyledFileLabel = styled.label`\n    display: inline-block;\n    border: transparent;\n    box-shadow: 2px 2px 10px 0.2px;\n    border-radius: 8px;\n    padding: 8px;\n`;\n\nconst StyledButton = styled.button`\n    width: 200px;\n`;\n\nconst StyledImg = styled.img`\n    text-align: center;\n`;\n"]},"metadata":{},"sourceType":"module"}