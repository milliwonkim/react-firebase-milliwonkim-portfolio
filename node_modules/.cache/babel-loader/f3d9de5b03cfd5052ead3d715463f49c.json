{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/kiwonkim/Downloads/react-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _objectSpread from \"/Users/kiwonkim/Downloads/react-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/kiwonkim/Downloads/react-portfolio/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/kiwonkim/Downloads/react-portfolio/src/components/Portfolio.js\";\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n    width: 200px;\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n    width: 200px;\\n    border: 2px solid red;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n    width: 200px;\\n    border: 2px solid red;\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    border: 2px solid black;\\n    padding: 10px;\\n    margin: 10px;\\n    border-radius: 8px; ;\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n    display: flex;\\n    flex-direction: row;\\n    justify-content: center;\\n    margin: 20px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n    text-align: left;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport styled from 'styled-components';\nimport { firebase, storage } from '../firebase';\nimport YouTube from 'react-youtube';\nexport default function Portfolio() {\n  var _this = this;\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      title = _useState2[0],\n      setTitle = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      writer = _useState4[0],\n      setWriter = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      description = _useState6[0],\n      setDescription = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      videoId = _useState8[0],\n      setVideoId = _useState8[1];\n\n  var allInputs = {\n    imgUrl: ''\n  };\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      image = _useState10[0],\n      setImage = _useState10[1];\n\n  var _useState11 = useState(''),\n      _useState12 = _slicedToArray(_useState11, 2),\n      imageAsFile = _useState12[0],\n      setImageAsFile = _useState12[1];\n\n  var _useState13 = useState(allInputs),\n      _useState14 = _slicedToArray(_useState13, 2),\n      imageAsUrl = _useState14[0],\n      setImageAsUrl = _useState14[1];\n\n  var _useState15 = useState([]),\n      _useState16 = _slicedToArray(_useState15, 2),\n      rendering = _useState16[0],\n      setRendering = _useState16[1];\n\n  var progress = 0;\n  useEffect(function () {\n    console.log(image);\n    var unsubscribe = firebase.firestore().collection('tasks').orderBy('createdAt', 'desc').onSnapshot(function (snapshot) {\n      var newRendering = snapshot.docs.map(function (doc) {\n        return _objectSpread({\n          id: doc.id\n        }, doc.data());\n      });\n      console.log(newRendering);\n      setRendering(newRendering);\n    });\n    return function () {\n      return unsubscribe();\n    };\n  }, []);\n\n  var handleFireBaseUpload = function handleFireBaseUpload(e) {\n    e.preventDefault();\n    console.log('start of upload');\n\n    if (imageAsFile === '') {\n      console.log(\"not an image, the image file is \".concat(typeof imageAsFile));\n    }\n\n    var uploadTask = storage.ref(\"images/\".concat(imageAsFile.name)).put(imageAsFile);\n    uploadTask.on('state_changed', function (snapshot) {\n      progress = snapshot.bytesTransferred / snapshot.totalBytes * 100;\n      console.log('Upload is ' + progress + '% done');\n\n      switch (snapshot.state) {\n        case firebase.storage.TaskState.PAUSED:\n          console.log('Upload is paused');\n          break;\n\n        case firebase.storage.TaskState.RUNNING:\n          console.log('Upload is running');\n          break;\n      }\n    }, function (err) {\n      console.log(err);\n    }, function () {\n      storage.ref('images').child(imageAsFile.name).getDownloadURL().then(function (fireBaseUrl) {\n        setImageAsUrl(function (prevObject) {\n          return _objectSpread(_objectSpread({}, prevObject), {}, {\n            imgUrl: fireBaseUrl\n          });\n        });\n        firebase.firestore().collection('tasks').add({\n          image: fireBaseUrl\n        });\n        console.log(fireBaseUrl);\n      });\n    });\n    firebase.firestore().collection('tasks').add({\n      title,\n      writer,\n      description,\n      videoId,\n      moment: moment().format('YYYY-MM-DD_h:mm:ss')\n    }); // }\n  };\n\n  var handleImageAsFile = function handleImageAsFile(e) {\n    var image = e.target.files[0];\n    setImageAsFile(image);\n  };\n\n  var addTask = function addTask() {// if (\n    //     portfolioInfo.title ||\n    //     portfolioInfo.writer ||\n    //     portfolioInfo.description !== ''\n    // ) {\n  };\n\n  var handleDelete = function handleDelete(id) {\n    firebase.firestore().collection('tasks').doc(id).delete();\n  };\n\n  var opts = {\n    height: '200',\n    width: '340',\n    playerVars: {\n      // https://developers.google.com/youtube/player_parameters\n      autoplay: 0\n    }\n  };\n\n  var _onReady = function _onReady(event) {\n    // access to player in all event handlers via event.target\n    event.target.pauseVideo();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }\n  }, \"\\uCD94\\uAC00\\uD558\\uAE30\"), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/add_portfolio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, \"\\uCD94\\uAC00\\uD558\\uAE30\")), /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 13\n    }\n  }, \"\\uC57D\\uB825\"), /*#__PURE__*/React.createElement(StyledPre, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, rendering.sort(function (a, b) {\n    return a.goal - b.goal;\n  }).map(function (r, i) {\n    return /*#__PURE__*/React.createElement(StyledDiv1, {\n      key: r.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      width: \"100\",\n      height: \"100\",\n      src: image,\n      alt: \"image tag\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(StyledDiv2, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        margin: '0 10px'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 37\n      }\n    }, r.title), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        margin: '0 10px'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 37\n      }\n    }, r.writer), /*#__PURE__*/React.createElement(\"h3\", {\n      style: {\n        margin: '0 10px'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 37\n      }\n    }, r.description)), /*#__PURE__*/React.createElement(\"h6\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 33\n      }\n    }, r.moment), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        return handleDelete(r.id);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 33\n      }\n    }, \"Delete\"), /*#__PURE__*/React.createElement(YouTube, {\n      videoId: r.videoId,\n      opts: opts,\n      onReady: _onReady,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 33\n      }\n    }));\n  }), /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, \"Progress: \", progress)), /*#__PURE__*/React.createElement(\"progress\", {\n    value: progress,\n    max: \"100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(StyledSummaryBorder, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleFireBaseUpload,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 21\n    }\n  }, \"Add Portfolio\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 21\n    }\n  }, \"\\uC81C\\uBAA9\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: function onChange(e) {\n      return setTitle(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 21\n    }\n  }, \"\\uC791\\uC131\\uC790\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: function onChange(e) {\n      return setWriter(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 21\n    }\n  }, \"\\uC124\\uBA85\"), /*#__PURE__*/React.createElement(StyledTextArea, {\n    onChange: function onChange(e) {\n      return setDescription(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 21\n    }\n  }, \"\\uC720\\uD29C\\uBE0C \\uC778\\uD48B\"), /*#__PURE__*/React.createElement(\"input\", {\n    onChange: function onChange(e) {\n      return setVideoId(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  }, \"\\uCCA8\\uBD80\\uD30C\\uC77C\"), /*#__PURE__*/React.createElement(StyledInput, {\n    type: \"file\",\n    onChange: handleImageAsFile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(StyledButton, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 21\n    }\n  }, \"\\uC81C\\uCD9C\"))));\n}\nvar StyledPre = styled.pre(_templateObject());\nvar StyledDiv1 = styled.div(_templateObject2());\nvar StyledDiv2 = styled.div(_templateObject3());\nvar StyledSummaryBorder = styled.div(_templateObject4());\nvar StyledInput = styled.input(_templateObject5());\nvar StyledTextArea = styled.textarea(_templateObject6());\nvar StyledButton = styled.button(_templateObject7());","map":{"version":3,"sources":["/Users/kiwonkim/Downloads/react-portfolio/src/components/Portfolio.js"],"names":["React","useState","useEffect","Link","moment","styled","firebase","storage","YouTube","Portfolio","title","setTitle","writer","setWriter","description","setDescription","videoId","setVideoId","allInputs","imgUrl","image","setImage","imageAsFile","setImageAsFile","imageAsUrl","setImageAsUrl","rendering","setRendering","progress","console","log","unsubscribe","firestore","collection","orderBy","onSnapshot","snapshot","newRendering","docs","map","doc","id","data","handleFireBaseUpload","e","preventDefault","uploadTask","ref","name","put","on","bytesTransferred","totalBytes","state","TaskState","PAUSED","RUNNING","err","child","getDownloadURL","then","fireBaseUrl","prevObject","add","format","handleImageAsFile","target","files","addTask","handleDelete","delete","opts","height","width","playerVars","autoplay","_onReady","event","pauseVideo","sort","a","b","goal","r","i","margin","textAlign","value","StyledPre","pre","StyledDiv1","div","StyledDiv2","StyledSummaryBorder","StyledInput","input","StyledTextArea","textarea","StyledButton","button"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport moment from 'moment';\nimport styled from 'styled-components';\nimport { firebase, storage } from '../firebase';\nimport YouTube from 'react-youtube';\n\nexport default function Portfolio() {\n    const [title, setTitle] = useState('');\n    const [writer, setWriter] = useState('');\n    const [description, setDescription] = useState('');\n    const [videoId, setVideoId] = useState('');\n\n    const allInputs = { imgUrl: '' };\n    const [image, setImage] = useState('');\n    const [imageAsFile, setImageAsFile] = useState('');\n    const [imageAsUrl, setImageAsUrl] = useState(allInputs);\n    const [rendering, setRendering] = useState([]);\n\n    let progress = 0;\n\n    useEffect(() => {\n        console.log(image);\n        const unsubscribe = firebase\n            .firestore()\n            .collection('tasks')\n            .orderBy('createdAt', 'desc')\n            .onSnapshot((snapshot) => {\n                const newRendering = snapshot.docs.map((doc) => {\n                    return {\n                        id: doc.id,\n                        ...doc.data(),\n                    };\n                });\n                console.log(newRendering);\n                setRendering(newRendering);\n            });\n\n        return () => unsubscribe();\n    }, []);\n\n    const handleFireBaseUpload = (e) => {\n        e.preventDefault();\n        console.log('start of upload');\n        if (imageAsFile === '') {\n            console.log(\n                `not an image, the image file is ${typeof imageAsFile}`\n            );\n        }\n        const uploadTask = storage\n            .ref(`images/${imageAsFile.name}`)\n            .put(imageAsFile);\n\n        uploadTask.on(\n            'state_changed',\n            (snapshot) => {\n                progress =\n                    (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n                console.log('Upload is ' + progress + '% done');\n                switch (snapshot.state) {\n                    case firebase.storage.TaskState.PAUSED:\n                        console.log('Upload is paused');\n                        break;\n                    case firebase.storage.TaskState.RUNNING:\n                        console.log('Upload is running');\n                        break;\n                }\n            },\n            (err) => {\n                console.log(err);\n            },\n            () => {\n                storage\n                    .ref('images')\n                    .child(imageAsFile.name)\n                    .getDownloadURL()\n                    .then((fireBaseUrl) => {\n                        setImageAsUrl((prevObject) => ({\n                            ...prevObject,\n                            imgUrl: fireBaseUrl,\n                        }));\n                        firebase.firestore().collection('tasks').add({\n                            image: fireBaseUrl,\n                        });\n                        console.log(fireBaseUrl);\n                    });\n            }\n        );\n\n        firebase\n            .firestore()\n            .collection('tasks')\n            .add({\n                title,\n                writer,\n                description,\n                videoId,\n                moment: moment().format('YYYY-MM-DD_h:mm:ss'),\n            });\n        // }\n    };\n\n    const handleImageAsFile = (e) => {\n        const image = e.target.files[0];\n        setImageAsFile(image);\n    };\n\n    const addTask = () => {\n        // if (\n        //     portfolioInfo.title ||\n        //     portfolioInfo.writer ||\n        //     portfolioInfo.description !== ''\n        // ) {\n    };\n\n    const handleDelete = (id) => {\n        firebase.firestore().collection('tasks').doc(id).delete();\n    };\n\n    const opts = {\n        height: '200',\n        width: '340',\n        playerVars: {\n            // https://developers.google.com/youtube/player_parameters\n            autoplay: 0,\n        },\n    };\n\n    const _onReady = (event) => {\n        // access to player in all event handlers via event.target\n        event.target.pauseVideo();\n    };\n\n    return (\n        <div>\n            <h1>추가하기</h1>\n            <button>\n                <Link to='/add_portfolio'>추가하기</Link>\n            </button>\n            <h1>약력</h1>\n            <StyledPre>\n                {rendering\n                    .sort((a, b) => {\n                        return a.goal - b.goal;\n                    })\n                    .map((r, i) => {\n                        return (\n                            <StyledDiv1 key={r.id}>\n                                <img\n                                    width='100'\n                                    height='100'\n                                    src={image}\n                                    alt='image tag'\n                                />\n                                <StyledDiv2>\n                                    <h3 style={{ margin: '0 10px' }}>\n                                        {r.title}\n                                    </h3>\n                                    <h3 style={{ margin: '0 10px' }}>\n                                        {r.writer}\n                                    </h3>\n                                    <h3 style={{ margin: '0 10px' }}>\n                                        {r.description}\n                                    </h3>\n                                </StyledDiv2>\n                                <h6>{r.moment}</h6>\n                                <button onClick={() => handleDelete(r.id)}>\n                                    Delete\n                                </button>\n                                <YouTube\n                                    videoId={r.videoId}\n                                    opts={opts}\n                                    onReady={_onReady}\n                                />\n                            </StyledDiv1>\n                        );\n                    })}\n                {/* <video src={youtube} width='300' /> */}\n                <h1 style={{ textAlign: 'center' }}>Progress: {progress}</h1>\n            </StyledPre>\n            <progress value={progress} max='100' />\n            <StyledSummaryBorder>\n                <form onSubmit={handleFireBaseUpload}>\n                    <h1>Add Portfolio</h1>\n                    <h3>제목</h3>\n                    <input onChange={(e) => setTitle(e.target.value)} />\n                    <h3>작성자</h3>\n                    <input onChange={(e) => setWriter(e.target.value)} />\n                    <h3>설명</h3>\n                    <StyledTextArea\n                        onChange={(e) => setDescription(e.target.value)}\n                    />\n                    <h3>유튜브 인풋</h3>\n                    <input onChange={(e) => setVideoId(e.target.value)} />\n                    <h3>첨부파일</h3>\n                    <StyledInput type='file' onChange={handleImageAsFile} />\n                    <StyledButton type='submit'>제출</StyledButton>\n                </form>\n            </StyledSummaryBorder>\n        </div>\n    );\n}\n\nconst StyledPre = styled.pre`\n    text-align: left;\n`;\n\nconst StyledDiv1 = styled.div`\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    margin: 20px;\n`;\n\nconst StyledDiv2 = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n`;\n\nconst StyledSummaryBorder = styled.div`\n    display: flex;\n    flex-direction: column;\n    border: 2px solid black;\n    padding: 10px;\n    margin: 10px;\n    border-radius: 8px; ;\n`;\n\nconst StyledInput = styled.input`\n    width: 200px;\n    border: 2px solid red;\n`;\n\nconst StyledTextArea = styled.textarea`\n    width: 200px;\n    border: 2px solid red;\n`;\n\nconst StyledButton = styled.button`\n    width: 200px;\n`;\n"]},"metadata":{},"sourceType":"module"}